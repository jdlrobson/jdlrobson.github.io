<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Namespace: hook</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Namespace: hook</h1>

    




<section>

<header>
    
        <h2>
            <span class="ancestors"><a href="mw.html">mw</a>.</span>hook</h2>
        
            <div class="class-description"><p>Registry and firing of events.</p>
<p>MediaWiki has various interface components that are extended, enhanced
or manipulated in some other way by extensions, gadgets and even
in core itself.</p>
<p>This framework helps streamlining the timing of when these other
code paths fire their plugins (instead of using document-ready,
which can and should be limited to firing only once).</p>
<p>Features like navigating to other wiki pages, previewing an edit
and editing itself – without a refresh – can then retrigger these
hooks accordingly to ensure everything still works as expected.</p>
<p>Example usage:</p>
<pre><code>mw.hook( 'wikipage.content' ).add( fn ).remove( fn );
mw.hook( 'wikipage.content' ).fire( $content );
</code></pre>
<p>Handlers can be added and fired for arbitrary event names at any time. The same
event can be fired multiple times. The last run of an event is memorized
(similar to <code>$(document).ready</code> and <code>$.Deferred().done</code>).
This means if an event is fired, and a handler added afterwards, the added
function will be fired right away with the last given event data.</p>
<p>Like Deferreds and Promises, the mw.hook object is both detachable and chainable.
Thus allowing flexible use and optimal maintainability and authority control.
You can pass around the <code>add</code> and/or <code>fire</code> method to another piece of code
without it having to know the event name (or <code>mw.hook</code> for that matter).</p>
<pre><code>var h = mw.hook( 'bar.ready' );
new mw.Foo( .. ).fetch( { callback: h.fire } );
</code></pre>
<p>Note: Events are documented with an underscore instead of a dot in the event
name due to jsduck not supporting dots in that position.</p></div>
        
    
</header>

<article>
    <div class="container-overview">
    
        

        


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mediawiki.base_mediawiki.base.js.html">mediawiki.base/mediawiki.base.js</a>, <a href="mediawiki.base_mediawiki.base.js.html#line439">line 439</a>
    </li></ul></dd>
    

    

    

    
</dl>


        
    
    </div>

    

    

    

    

    

    

    

    

    

    
</article>

</section>







<section>

<header>
    
        <h2>
            <span class="ancestors"><a href="mw.html">mw</a>.</span>hook</h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        
            <div class="description"><p>Create an instance of <a href="Hook.html"><code>Hook</code></a>.</p></div>
        

        


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mediawiki.base_mediawiki.base.js.html">mediawiki.base/mediawiki.base.js</a>, <a href="mediawiki.base_mediawiki.base.js.html#line480">line 480</a>
    </li></ul></dd>
    

    

    

    
</dl>


        
            <h3>Example</h3>
            
    <pre class="prettyprint"><code>const hook = mw.hook( 'name' );
  hook.add( () => alert( 'Hook was fired' ) );
  hook.fire();</code></pre>

        
    
    </div>

    

    

    

    

    

    

    

    

    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="mediawiki.module_util.html">mediawiki.util</a></li></ul><h3>Namespaces</h3><ul><li><a href="jQuery.plugin.html">jQuery.plugin</a></li><li><a href="mw.html">mw</a></li><li><a href="mw.errorLogger.html">mw.errorLogger</a></li><li><a href="mw.hook.html">mw.hook</a></li><li><a href="mw.html.html">mw.html</a></li><li><a href="mw.loader.html">mw.loader</a></li><li><a href="mw.html#.log">mw.log</a></li><li><a href="mw.util.html">mw.util</a></li><li><a href="window.html">window</a></li></ul><h3>Classes</h3><ul><li><a href="Message.html">Message</a></li><li><a href="mw.html.Raw.html">mw.html.Raw</a></li><li><a href="mw.html#.Map">mw.Map</a></li></ul><h3>Events</h3><ul><li><a href="global.html#event:error_caught">error_caught</a></li><li><a href="global.html#event:global_error">global_error</a></li><li><a href="global.html#event:resourceloader_exception">resourceloader_exception</a></li><li><a href="mediawiki.module_util.html#~event:util_addPortlet">util_addPortlet</a></li><li><a href="mediawiki.module_util.html#~event:util_addPortletLink">util_addPortletLink</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.10</a> on Thu Nov 30 2023 17:25:38 GMT-0800 (Pacific Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>